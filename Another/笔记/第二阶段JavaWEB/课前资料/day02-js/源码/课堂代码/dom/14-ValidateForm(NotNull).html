<html>
	<head>
		<title>表单页面</title>
		<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
		<style type="text/css">
			span{
				color:red;
				font-size:12px;
			}
		</style>
		
		<script>
			function checkForm(){
				var canSub = true;
				//1.非空校验
				if(!checkNull("username","用户名不能为空")){canSub = false;}
				if(!checkNull("password","密码不能为空")){canSub = false;}
				if(!checkNull("password2","确认密码不能为空")){canSub = false;}
				if(!checkNull("nickname","昵称不能为空")){canSub = false;}
				if(!checkNull("email","邮箱不能为空")){canSub = false;}
				if(!checkNull("img","头像不能为空")){canSub = false;}
				if(!checkNull("valistr","验证码不能为空")){canSub = false;}

				//--性别不能为空 性别是radio 没法直接checkNull 需要获取这两个radio看是否都未选中
				var genders = document.getElementsByName("gender");
				setMsg("gender","")
				//--检验是否两个radio都没有被选中 如果是 则提示消息
				if(!genders[0].checked && !genders[1].checked){
					setMsg("gender","性别不能为空")
					canSub = false;
				}

				//--检验爱好是否为空 获取爱好对应的所有的ckeckBox
				var likes = document.getElementsByName("like")
				//--如果所有的复选框 都未选中 则提示消息
				setMsg("like","")
				if(!likes[0].checked && 
					!likes[1].checked && 
					!likes[2].checked && 
					!likes[3].checked){
					setMsg("like","爱好不能为空")
					canSub = false;
				}

				//--描述信息不为空校验 如果描述信息 仍然是默认值 则提示信息
				var ta = document.getElementsByName("desc")[0].value
				setMsg("desc","")
				if(ta == "请输入描述信息~！"){
					setMsg("desc","描述信息不能为空")
					canSub = false;
				}
				
				//2.两次密码一致校验 - 如果两次密码都不为空 且 不相同 则提示两次密码不一致
				var psw1 = document.getElementsByName("password")[0].value
				var psw2 = document.getElementsByName("password2")[0].value
				if(psw1 != "" && psw2 != ""){
					setMsg("password2","")
					if(psw1 != psw2){
						setMsg("password2","两次密码不一致")
						canSub = false;
					}
				}
				
				//3.邮箱格式校验 如果邮箱不为空 且不符合邮箱正则 则提示邮箱格式不正确
				var email = document.getElementsByName("email")[0].value
				if(email!=""){
					setMsg("email","")
					var pattern = /^\w+@\w+(\.\w+)+$/
					if(!pattern.test(email)){
						setMsg("email","邮箱格式不正确")	
						canSub = false;
					}
				}

				//--返回检验结果
				return canSub;
			}

			//--元素的非空校验
			function checkNull(name,msg){
				//--清空该元素的提示消息 防止历史提示消息遗留
				setMsg(name,"")
				//--获取该元素的值
				var inp = document.getElementsByName(name)[0].value;
				//--如果是空 则提示 内容为空 并且返回false
				if(inp == ""){
					setMsg(name,msg)
					return false;
				}
				//--内容不为空返回true
				return true;
			}

			function setMsg(name,msg){
				document.getElementById(name+"_msg").innerText = msg
			}

			//--文本域获取到焦点
			function descFocus(obj){
				if(obj.value == "请输入描述信息~!"){
					obj.value = ""
				}
			}
			//--文本域获失去焦点
			function descBlur(obj){
				if(obj.value == ""){
					obj.value = "请输入描述信息~!"
				}
			}
		</script>
	</head>
	<body>
		<form action="http://www.baidu.com" method="POST" onsubmit="return checkForm()">
			<table border="1px" align="center" cellpadding="10px" cellspacing="0px" borderColor="red" bgcolor="pink">
				<caption><font color="red" size="6">注册表单</font></caption>
				<input type="hidden" name="id" value="9527"/>
				<tr>
					<td>用户名:</td>
					<td><input type="text" name="username" /> <span id="username_msg"></span></td>
				</tr>
				<tr>
					<td>密码:</td>
					<td><input type="password" name="password"/> <span id="password_msg"></span></td>
				</tr>
				<tr>
					<td>确认密码:</td>
					<td><input type="password" name="password2"/> <span id="password2_msg"></span></td>
				</tr>
				<tr>
					<td>性别：</td>
					<td>
						<input type="radio" name="gender" value="男"/>男
						<input type="radio" name="gender" value="女"/>女 <span id="gender_msg"></span>
					</td>
				</tr>
				<tr>
					<td>昵称：</td>
					<td><input type="text" name="nickname"/> <span id="nickname_msg"></span></td>
				</tr>
				<tr>
					<td>邮箱：</td>
					<td><input type="text" name="email"/> <span id="email_msg"></span></td>
				</tr>
				<tr>
					<td>爱好：</td>
					<td>
						<input type="checkbox" name="like" value="lq"/>篮球
						<input type="checkbox" name="like" value="zq"/>足球
						<input type="checkbox" name="like" value="qq"/>铅球
						<input type="checkbox" name="like" value="blq"/>玻璃球
						 <span id="like_msg"></span>
					</td>
				</tr>
				<tr>
					<td>客户类型：</td>
					<td>
						<select name="type">
							<option value="pm">平民</option>
							<option value="sxdy">少先队员</option>
							<option value="gqty">共青团员</option>
							<option value="ybdy">预备党员</option>
							<option value="zsdy">正式党员</option>
						</select>
						 <span id="type_msg"></span>
					</td>
				</tr>
				<tr>
					<td>头像：</td>
					<td>
						<input type="file" name="img"/> <span id="img_msg"></span>
					</td>
				</tr>
				<tr>
					<td>描述信息：</td>
					<td>
						<textarea id="desc" rows="5" cols="45" name="desc" onfocus="descFocus(this)" onblur="descBlur(this)">请输入描述信息~!</textarea> <br/><span id="desc_msg"></span>
					</td>
				</tr>
				<tr>
					<td>验证码：</td>
					<td>
						<input type="text" name="valistr"/>
						<img src="1.jpg" width="100px" height="20px"/>
						 <span id="valistr_msg"></span>
					</td>
				</tr>
				<tr>
					<td colspan="2" align="right">
						<input type="submit" value="提 交"/>
						<input type="reset" value="重 置"/>
					</td>
				</tr>
			</table>
		</form>
	</body>
</html>